
name: Smart Keep-Alive (Human-like)

# Make it look random: Run every 50 mins base schedule
on:
  schedule:
    - cron: '*/50 * * * *'
  workflow_dispatch:

jobs:
  ping_human_like:
    runs-on: ubuntu-latest
    steps:
      - name: Human-like Ping to HF Space
        run: |
          # 1. Random delay (0 ~ 600s) to avoid exact cron patterns
          DELAY=$((RANDOM % 600))
          echo "Sleeping for ${DELAY} seconds to simulate human randomness..."
          sleep $DELAY

          # 2. Use a real browser User-Agent string
          USER_AGENT="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
          
          # 3. Send GET request (simulate page load)
          echo "Pinging Paper Prism as a Chrome browser..."
          curl -L -A "$USER_AGENT" -s -o /dev/null -w "%{http_code}" https://notoow-paper-image-extractor.hf.space
          echo " Ping complete."
